(this["webpackJsonptest-router-app"]=this["webpackJsonptest-router-app"]||[]).push([[0],{20:function(t,e,n){},21:function(t,e,n){},29:function(t,e,n){},30:function(t,e,n){"use strict";n.r(e);var o=n(2),i=n.n(o),a=n(3),s=n.n(a),c=(n(20),n(12)),r=n(7),l=n(8),u=function(){function t(e,n){Object(r.a)(this,t),this.layerContainer=void 0,this.layerPromise=void 0,this.doPop=void 0,this.options={styles:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:100,touchAction:"none"},maskOpacity:.5},this.options=Object.assign({},this.options,n);var o=document.createElement("div");for(var i in this.options.styles)o.style[i]=this.options.styles[i];Object(a.render)(e,o),this.layerContainer=o}return Object(l.a)(t,[{key:"show",value:function(){var t=this;return document.body.appendChild(this.layerContainer),this.layerPromise=new Promise((function(e,n){t.doPop=e})).then((function(e){return t.destory(),e})),this.layerPromise}},{key:"pop",value:function(t){this.doPop&&this.doPop(t)}},{key:"popSelf",value:function(t){h.popLayer(this,t)}},{key:"destory",value:function(){document.body.contains(this.layerContainer)&&(Object(a.unmountComponentAtNode)(this.layerContainer),document.body.removeChild(this.layerContainer))}}]),t}(),h=new(function(){function t(){Object(r.a)(this,t),this.globalLayerStack=[]}return Object(l.a)(t,[{key:"isShow",get:function(){return this.globalLayerStack.length>0}},{key:"showLayer",value:function(t){return this.globalLayerStack.push(t),t.show()}},{key:"pop",value:function(t){var e=this.globalLayerStack.pop();e&&e.pop(t)}},{key:"popLayer",value:function(t,e){var n=this.globalLayerStack.splice(this.globalLayerStack.findIndex((function(e){return e===t})),1)[0];n&&n.pop(e)}},{key:"popAll",value:function(t){for(;this.globalLayerStack.length>0;)this.pop(t)}}]),t}()),d=(n(21),n(9)),p=n.n(d),b=n(13),f=n(1),y=function(t){var e=Object(o.useRef)(null),n=Object(o.useCallback)((function(){p()(e.current,{allowTaint:!0}).then((function(t){var e=t.width,n=t.height,o=e/592.28*841.89,i=n,a=0,s=595.28,c=592.28/e*n,r=t.toDataURL("image/jpeg",1),l=new b.a(void 0,"pt","a4");if(i<o)l.addImage(r,"JPEG",0,0,s,c);else for(;i>0;)l.addImage(r,"JPEG",0,a,s,c),a-=841.89,(i-=o)>0&&l.addPage();l.save("\u4e0b\u8f7d.pdf")}))}),[]);return Object(f.jsx)("div",{className:"mask",onClick:function(){h.pop()},children:Object(f.jsxs)("div",{className:"content-container",children:[Object(f.jsx)("div",{className:"down-btn",onClick:n,children:"\u4e0b\u8f7dPDF"}),Object(f.jsx)("div",{ref:e,children:t.children})]})})},j=n(14),v=n.n(j),g=(n(29),function(){var t=Object(o.useState)(""),e=Object(c.a)(t,2),n=e[0],i=e[1],a=Object(o.useCallback)((function(t){i(t)}),[]),s=Object(o.useCallback)((function(){var t,e;t=Object(f.jsx)(y,{children:Object(f.jsx)("div",{dangerouslySetInnerHTML:{__html:n}})}),h.showLayer(new u(t,e))}),[n]);return Object(f.jsxs)("div",{children:[Object(f.jsx)(v.a,{config:{uploadImgShowBase64:!0,showMenuTooltips:!0,height:800},onChange:a}),Object(f.jsx)("div",{className:"preview-btn",onClick:s,children:"\u9884\u89c8"})]})});var k=function(){return Object(f.jsx)(g,{})},m=function(t){t&&t instanceof Function&&n.e(5).then(n.bind(null,183)).then((function(e){var n=e.getCLS,o=e.getFID,i=e.getFCP,a=e.getLCP,s=e.getTTFB;n(t),o(t),i(t),a(t),s(t)}))};s.a.render(Object(f.jsx)(i.a.StrictMode,{children:Object(f.jsx)(k,{})}),document.getElementById("root")),m()}},[[30,1,3]]]);
//# sourceMappingURL=main.f182dccd.chunk.js.map